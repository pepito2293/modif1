<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personnalisation des émojis</title>
   <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/emoji-customization.css">
    <script>
document.addEventListener("DOMContentLoaded", () => {
    // Affichage du tableau des émojis
    if (typeof populateEmojiTable === 'function') {
        populateEmojiTable(); // Cette fonction génère ton tableau
    }

    // Gestion du bouton "Tout réinitialiser"
    const resetAllButton = document.getElementById("resetAll");
    if (resetAllButton) {
        resetAllButton.addEventListener("click", () => {
            if (confirm("Voulez-vous vraiment réinitialiser tous les émojis ?")) {
                emojiList = [...defaultEmojis];
                saveEmojiList();
                populateEmojiTable(); // Recharge le tableau mis à jour
            }
        });
    }

    // Gestion de l'ajout du dos de carte
    const backCardUpload = document.getElementById("backCardUpload");
    if (backCardUpload) {
        backCardUpload.addEventListener("change", (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    backCardImage = e.target.result;
                    localStorage.setItem("backCardImage", backCardImage);
                    const backCardPreview = document.getElementById("backCardPreview");
                    if (backCardPreview) {
                        backCardPreview.src = backCardImage;
                        backCardPreview.style.display = "block";
                    }
                };
                reader.readAsDataURL(file);
            }
        });
    }
});
</script>

</head>
<body>

    <!-- Menu hamburger -->
    <nav class="hamburger-menu">
        <input type="checkbox" id="menu-toggle">
        <label for="menu-toggle" class="menu-icon">☰</label>
        <ul class="menu-items">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="emoji-customization.html">Personnaliser les émojis</a></li>
        </ul>
    </nav>

    <!-- Contenu principal -->
    <main>
        <h2>Personnalisez vos émojis</h2>

        <!-- Conteneur pour aligner les boutons -->
        <div class="buttons-container">
            <div class="upload-back-container">
                <label for="backCardUpload" class="bouton-style">Choisir un dos de carte</label>
                <input type="file" id="backCardUpload" accept="image/*" style="display: none;">
                <img id="backCardPreview" src="" alt="Aperçu du dos" style="display:none; max-width:100px; margin-top:10px;">
            </div>
    
            <div class="reset-all-container">
                <button id="resetAll">Tout réinitialiser</button>
            </div>
        </div>

        <!-- Tableau unique des émojis -->
        <table id="emojiTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Émoji actuel</th>
                    <th>Nouvelle image</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Génération dynamique des lignes via JavaScript -->
            </tbody>
        </table>
    
        <div class="card-container-wrapper">
            <div class="card-container" id="cardContainer"></div>
        </div>
    </main>
    
    <footer>
        <p>&copy; 2025 Créations Dupdup</p>
    </footer>
    
</body>
</html>
